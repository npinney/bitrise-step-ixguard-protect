title: |-
  iXGuard Protect
summary: |
  Protect your iOS archive with iXGuard.
description: |
  The Step processes an unprotected xcarchive using iXGuard based on the ixguard.yml configuration file.
website: https://github.com/npinney/bitrise-step-ixguard-protect
source_code_url: https://github.com/npinney/bitrise-step-ixguard-protect
support_url: https://github.com/npinney/bitrise-step-ixguard-protect/issues
project_type_tags:
  - ios
  - react-native
type_tags:
  - utility
  - build
  - code-sign
is_always_run: false
is_skippable: false
toolkit:
  bash:
    entry_file: step.sh
inputs:
  - license_url: $BITRISEIO_IXGUARD_LICENSE_URL
    opts:
      title: "iXGuard license file url"
      summary: Text file containing your licenses.
      description: |
        Can be downloaded from your Guardsquare platform and uploaded to Bitrise.
        If not specified or valid, the Step will not be able to run ixguard.
      is_expand: true
      is_required: true
      value_options: []
  - archive_path: $BITRISE_XCARCHIVE_PATH
    opts:
      title: "iXGuard license file url"
      summary: Text file containing your licenses.
      description: |
        Can be downloaded from your Guardsquare platform and uploaded to Bitrise.
        If not specified or valid, the Step will not be able to run ixguard.
      is_expand: true
      is_required: true
      value_options: []
  - export_options: $BITRISEIO_EXPORT_OPTIONS_URL
    opts:
      title: "Export options plist"
      summary: Specifies a plist file content that configures archive exporting.
      description: |
        If not specified, the Step will auto-generate it.
      is_expand: true
      is_required: true
      value_options: []

outputs:
  - PROTECTED_ARCHIVE:
    opts:
      title: "Protected app archive"
      summary: Output of iXGuard - An obfuscated and encrypted xcarchive ready for export.
      description: |
        Replaces the unprotected xcarchive in the artifacts section after successfull processing.
        Contains dSYMs.
  - IXGUARD_GENERATED_FILES:
    opts:
      title: "iXGuard generated files"
      summary: During iXGuard processing, the mapping and log files among others are grouped and compressed.
      description: |
        They are made available in the artifacts section.
